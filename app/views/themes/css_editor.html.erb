<h1>CSS Override</h1>
<% unless params[:name].blank? %>
  <h2>Overriding screen.css (base css file)</h2>
<% end %>

<p>Warning, setting CSS here will negate any theme CSS.</p>

<div class="edit_content_box">
  <%= form_tag( { :action => :update_css } ) do  %>
    <input type="hidden" name="name" value="<%= params[:name] %>"/>
    <p>
      <strong>CSS:</strong><br/>
      <%= text_area_tag :css, @css %>
    </p>
    <p>
      <%= submit_tag "save changes" %>
    </p>
<% end %>
</div>


<p class="admin_links">
  <%= link_to 'Site Administration', admin_site_settings_path %> |
  <%= link_to 'Theme/Styling', :controller => :themes %> 
</p>


<script type="text/javascript" src="/codemirror/js/codemirror.js"></script>
<script type="text/javascript" src="/codemirror/js/mirrorframe.js"></script>

<script type="text/javascript">
  var textarea = $('#css')[0];
  var editor = CodeMirror.fromTextArea("css", {
    parserfile: "parsecss.js",
    path: "/codemirror/js/",
    stylesheet: "/codemirror/css/jscolors.css",
    autoMatchParens: true,
    height: "350px"
  });

</script>
